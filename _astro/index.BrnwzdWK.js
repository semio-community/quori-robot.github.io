import{r as i,g as C}from"./index.CtNveh2g.js";import{r as M}from"./index.COIpsGCK.js";import{j as y}from"./jsx-runtime.D_zvdyIk.js";function F(n,e,{checkForDefaultPrevented:t=!0}={}){return function(r){if(n?.(r),t===!1||!r.defaultPrevented)return e?.(r)}}function g(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function R(...n){return e=>{let t=!1;const o=n.map(r=>{const s=g(r,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<o.length;r++){const s=o[r];typeof s=="function"?s():g(n[r],null)}}}}function P(...n){return i.useCallback(R(...n),n)}var T=M();const V=C(T);function $(n){const e=v(n),t=i.forwardRef((o,r)=>{const{children:s,...l}=o,c=i.Children.toArray(s),u=c.find(I);if(u){const a=u.props.children,d=c.map(f=>f===u?i.Children.count(a)>1?i.Children.only(null):i.isValidElement(a)?a.props.children:null:f);return y.jsx(e,{...l,ref:r,children:i.isValidElement(a)?i.cloneElement(a,void 0,d):null})}return y.jsx(e,{...l,ref:r,children:s})});return t.displayName=`${n}.Slot`,t}function v(n){const e=i.forwardRef((t,o)=>{const{children:r,...s}=t;if(i.isValidElement(r)){const l=x(r),c=b(s,r.props);return r.type!==i.Fragment&&(c.ref=o?R(o,l):l),i.cloneElement(r,c)}return i.Children.count(r)>1?i.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var A=Symbol("radix.slottable");function k(n){const e=({children:t})=>y.jsx(y.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=A,e}function I(n){return i.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===A}function b(n,e){const t={...e};for(const o in e){const r=n[o],s=e[o];/^on[A-Z]/.test(o)?r&&s?t[o]=(...c)=>{const u=s(...c);return r(...c),u}:r&&(t[o]=r):o==="style"?t[o]={...r,...s}:o==="className"&&(t[o]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}function x(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function H(n){const e=i.useRef(n);return i.useEffect(()=>{e.current=n}),i.useMemo(()=>(...t)=>e.current?.(...t),[])}var E=globalThis?.document?i.useLayoutEffect:()=>{};function w(n,e){return i.useReducer((t,o)=>e[t][o]??t,n)}var D=n=>{const{present:e,children:t}=n,o=_(e),r=typeof t=="function"?t({present:o.isPresent}):i.Children.only(t),s=P(o.ref,j(r));return typeof t=="function"||o.isPresent?i.cloneElement(r,{ref:s}):null};D.displayName="Presence";function _(n){const[e,t]=i.useState(),o=i.useRef(null),r=i.useRef(n),s=i.useRef("none"),l=n?"mounted":"unmounted",[c,u]=w(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return i.useEffect(()=>{const a=N(o.current);s.current=c==="mounted"?a:"none"},[c]),E(()=>{const a=o.current,d=r.current;if(d!==n){const p=s.current,m=N(a);n?u("MOUNT"):m==="none"||a?.display==="none"?u("UNMOUNT"):u(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),r.current=n}},[n,u]),E(()=>{if(e){let a;const d=e.ownerDocument.defaultView??window,f=m=>{const O=N(o.current).includes(CSS.escape(m.animationName));if(m.target===e&&O&&(u("ANIMATION_END"),!r.current)){const h=e.style.animationFillMode;e.style.animationFillMode="forwards",a=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=h)})}},p=m=>{m.target===e&&(s.current=N(o.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(a),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:i.useCallback(a=>{o.current=a?getComputedStyle(a):null,t(a)},[])}}function N(n){return n?.animationName||"none"}function j(n){let e=Object.getOwnPropertyDescriptor(n.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=Object.getOwnPropertyDescriptor(n,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}export{D as P,V as R,P as a,H as b,$ as c,F as d,k as e,R as f,T as r,E as u};
//# sourceMappingURL=index.BrnwzdWK.js.map
