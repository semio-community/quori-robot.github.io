{"version":3,"file":"HeroHeader.DJfBtCZ-.js","sources":["../../src/components/hero/HeroHeader.tsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef } from \"react\";\nimport { clsx } from \"clsx\";\nimport { CallToActionButton } from \"@/components/ui/CallToActionButton\";\n\nexport type HeroAction = {\n  label: React.ReactNode;\n  href: string;\n  variant?: \"default\" | \"primary\" | \"secondary\" | \"tertiary\";\n  indicatorText?: string | number;\n  ariaLabel?: string;\n  target?: string;\n  rel?: string;\n};\n\nexport type HeroHeadingTag = \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\";\n\n/**\n * HeroHeader\n *\n * Glyph-backed hero layout that standardizes the common Semio hero pattern:\n * full-width glyph field with headline, supporting copy, and up to three CTA buttons.\n *\n * Props:\n * - title / description: main textual content; accepts ReactNodes to allow styled spans.\n * - headingTag: override the rendered heading element (defaults to `h1`).\n * - actions: array of CTA definitions (label, href, optional variant + indicator text).\n * - icon: optional React node rendered above the title (e.g., hero glyph or emoji).\n * - fullBleed / fullBleedClassName: enable and customize the 100vw offset wrapper for edge-to-edge heroes.\n * - img / imgAlt / imgObjectPosition: optional hero image rendered with object-cover and configurable focal point.\n */\nexport interface HeroHeaderProps {\n  title: React.ReactNode;\n  description?: React.ReactNode;\n  headingTag?: HeroHeadingTag;\n  actions?: HeroAction[];\n  icon?: React.ReactNode;\n  fullBleed?: boolean;\n  fullBleedClassName?: string;\n  img?: string;\n  imgAlt?: string;\n  imgClassName?: string;\n  imgObjectPosition?: React.CSSProperties[\"objectPosition\"];\n}\n\nconst FULL_BLEED_STYLE: React.CSSProperties = {\n  width: \"100vw\",\n  position: \"relative\",\n  left: \"50%\",\n  right: \"50%\",\n  marginLeft: \"-50vw\",\n  marginRight: \"-50vw\",\n};\n\nconst DEFAULT_GLYPH_PROPS: GlyphFieldProps = {\n  count: 25,\n  speed: 1000,\n  scaling: 1,\n  grayscale: false,\n  filled: false,\n  className: \"flex h-full w-full opacity-25 dark:opacity-15\",\n};\n\nexport default function HeroHeader({\n  title,\n  description,\n  headingTag: HeadingTag = \"h1\",\n  actions,\n  icon,\n  img,\n  imgAlt,\n  imgClassName,\n  imgObjectPosition,\n  fullBleed = false,\n  fullBleedClassName = \"relative pt-16 md:pt-20 lg:pt-4 mb-8 sm:mb-12\",\n}: HeroHeaderProps) {\n  const heroBody = (\n    <div className=\"hero-container min-h-[380px] sm:min-h-[420px] md:min-h-[480px] w-full bg-transparent flex items-center justify-center relative overflow-hidden py-16 sm:py-20 md:py-24 pt-24 sm:pt-28 md:pt-32\">\n      {img ? (\n        <div className=\"absolute inset-0 -z-10 overflow-hidden pointer-events-none\">\n          <img\n            src={img}\n            alt={imgAlt || \"\"}\n            className={clsx(\n              \"h-full w-full object-cover object-center\",\n              imgClassName,\n            )}\n            style={\n              imgObjectPosition\n                ? { objectPosition: imgObjectPosition }\n                : undefined\n            }\n          />\n        </div>\n      ) : null}\n      <div className=\"relative px-4 sm:px-6 md:px-8 max-w-5xl mx-auto w-full pointer-events-none space-y-6 text-center\">\n        {icon ? (\n          <div className=\"flex justify-center text-accent-base/80\">{icon}</div>\n        ) : null}\n        {title ? (\n          <HeadingTag className=\"text-3xl sm:text-4xl md:text-5xl lg:text-6xl text-foreground uppercase\">\n            {title}\n          </HeadingTag>\n        ) : null}\n\n        {description ? (\n          <p className=\"text-sm sm:text-base md:text-lg lg:text-xl font-light text-color-600 dark:text-color-400 max-w-3xl mx-auto leading-relaxed px-2 sm:px-0\">\n            {description}\n          </p>\n        ) : null}\n\n        {actions && actions.length > 0 ? (\n          <div className=\"flex flex-wrap justify-center gap-4\">\n            {actions.map(\n              (\n                {\n                  label,\n                  href,\n                  variant = \"primary\",\n                  indicatorText,\n                  ariaLabel,\n                  target,\n                  rel,\n                },\n                index,\n              ) => (\n                <CallToActionButton\n                  key={`${href}-${index}`}\n                  href={href}\n                  size=\"large\"\n                  variant={variant}\n                  indicatorText={\n                    typeof indicatorText === \"number\"\n                      ? indicatorText.toString()\n                      : indicatorText\n                  }\n                  ariaLabel={ariaLabel}\n                  target={target}\n                  rel={rel}\n                >\n                  {label}\n                </CallToActionButton>\n              ),\n            )}\n          </div>\n        ) : null}\n      </div>\n\n      <style>\n        {`\n          .glyph-wrapper {\n            mask-image:\n              linear-gradient(\n                to right,\n                transparent 0%,\n                black 10%,\n                black 90%,\n                transparent 100%\n              ),\n              linear-gradient(\n                to bottom,\n                transparent 0%,\n                black 15%,\n                black 85%,\n                transparent 100%\n              );\n            mask-size: 100% 100%;\n            mask-position: center;\n            mask-repeat: no-repeat;\n            mask-composite: intersect;\n\n            -webkit-mask-image:\n              linear-gradient(\n                to right,\n                transparent 0%,\n                black 10%,\n                black 90%,\n                transparent 100%\n              ),\n              linear-gradient(\n                to bottom,\n                transparent 0%,\n                black 15%,\n                black 85%,\n                transparent 100%\n              );\n            -webkit-mask-size: 100% 100%;\n            -webkit-mask-position: center;\n            -webkit-mask-repeat: no-repeat;\n            -webkit-mask-composite: source-in;\n          }\n\n          @supports not (mask-composite: intersect) {\n            .glyph-wrapper {\n              mask: radial-gradient(\n                ellipse 90% 80% at center,\n                black 40%,\n                transparent 100%\n              );\n              -webkit-mask: radial-gradient(\n                ellipse 90% 80% at center,\n                black 40%,\n                transparent 100%\n              );\n            }\n          }\n        `}\n      </style>\n    </div>\n  );\n\n  if (fullBleed) {\n    return (\n      <div\n        className={clsx(\n          \"w-screen left-1/2 right-1/2 -ml-[50vw] -mr-[50vw]\",\n          fullBleedClassName,\n        )}\n        style={FULL_BLEED_STYLE}\n      >\n        {heroBody}\n      </div>\n    );\n  }\n\n  return heroBody;\n}\n\n/* ---------------------------------------------\n   GlyphField (React) â€” simple animation hook\n   --------------------------------------------- */\n\ntype Variant = \"primary\" | \"secondary\" | \"tertiary\";\n\nexport interface GlyphFieldProps {\n  count: number;\n  speed?: number; // higher is slower movement in this implementation\n  scaling?: number;\n  className?: string;\n  grayscale?: boolean;\n  filled?: boolean;\n  svgClass?: string;\n  bottomLeft?: React.ReactNode;\n}\n\ninterface Glyph {\n  id: string;\n  variant: Variant;\n  baseX: number; // 0..1\n  baseY: number; // 0..1\n  scale: number; // ~1..2\n  duration: number; // seconds\n  begin: number; // seconds\n  angle: number; // radians\n  amplitude: number; // pixels\n  rotationDeg: number;\n}\n\nfunction getRotation(variant: Variant): number {\n  switch (variant) {\n    case \"primary\":\n      return 0;\n    case \"secondary\":\n      return 120;\n    case \"tertiary\":\n      return 240;\n    default:\n      return 0;\n  }\n}\n\nfunction getStrokeColor(variant: Variant, grayscale?: boolean): string {\n  if (grayscale) {\n    switch (variant) {\n      case \"primary\":\n        return \"#d4d4d4\";\n      case \"secondary\":\n        return \"#bdbdbd\";\n      case \"tertiary\":\n        return \"#a3a3a3\";\n    }\n  }\n  switch (variant) {\n    case \"primary\":\n      return \"#EF6129\"; // red-orange\n    case \"secondary\":\n      return \"#FF9E00\"; // yellow-orange\n    case \"tertiary\":\n      return \"#50C4B6\"; // teal\n  }\n}\n\nfunction getFillColor(variant: Variant, grayscale?: boolean): string {\n  if (grayscale) {\n    switch (variant) {\n      case \"primary\":\n        return \"#d4d4d4\";\n      case \"secondary\":\n        return \"#bdbdbd\";\n      case \"tertiary\":\n        return \"#a3a3a3\";\n    }\n  }\n  switch (variant) {\n    case \"primary\":\n      return \"#EF6129\";\n    case \"secondary\":\n      return \"#FF9E00\";\n    case \"tertiary\":\n      return \"#50C4B6\";\n  }\n}\n\n/**\n * Simple random helper that is stable for a given count on initial render.\n */\nfunction buildGlyphs(count: number, scaling: number): Glyph[] {\n  const variants: Variant[] = [\"primary\", \"secondary\", \"tertiary\"];\n\n  return Array.from({ length: count }, (_, idx) => {\n    const variant = variants[Math.floor(Math.random() * variants.length)]!;\n    const baseX = Math.random() * 0.2 - 0.05 + idx / count;\n    const baseY = Math.random() * 0.2 - 0.05 + (count - idx - 1) / count;\n    const scale = Math.random() + scaling;\n    const duration = Math.random() * 2 + 6; // seconds\n    const begin = Math.random() * 5; // seconds\n    const angle = Math.random() * Math.PI * 2;\n    const amplitude = 30 + Math.random() * 30; // pixels\n    const rotationDeg = getRotation(variant);\n\n    return {\n      id: `${idx}-${Math.random().toString(36).slice(2)}`,\n      variant,\n      baseX,\n      baseY,\n      scale,\n      duration,\n      begin,\n      angle,\n      amplitude,\n      rotationDeg,\n    };\n  });\n}\n\nexport function GlyphField({\n  count,\n  speed = 1000,\n  scaling = 1,\n  className,\n  grayscale = false,\n  filled = false,\n  svgClass,\n  bottomLeft,\n}: GlyphFieldProps) {\n  const containerRef = useRef<HTMLDivElement | null>(null);\n  const svgRef = useRef<SVGSVGElement | null>(null);\n\n  const glyphs = useMemo(() => buildGlyphs(count, scaling), [count, scaling]);\n\n  // Tracks size for percentage-to-pixel conversion\n  const sizeRef = useRef<{ w: number; h: number }>({ w: 0, h: 0 });\n  useEffect(() => {\n    const el = containerRef.current;\n    if (!el) return;\n\n    const updateSize = () => {\n      const r = el.getBoundingClientRect();\n      sizeRef.current = { w: r.width, h: r.height };\n    };\n    updateSize();\n\n    let ro: ResizeObserver | null = null;\n    if (typeof ResizeObserver !== \"undefined\") {\n      ro = new ResizeObserver(updateSize);\n      ro.observe(el);\n    } else {\n      window.addEventListener(\"resize\", updateSize);\n    }\n\n    return () => {\n      if (ro) ro.disconnect();\n      else window.removeEventListener(\"resize\", updateSize);\n    };\n  }, []);\n\n  // Animate using rAF: simple sinusoidal drift around base position\n  useEffect(() => {\n    let raf = 0;\n    const start = performance.now();\n\n    const step = () => {\n      const now = performance.now();\n      const t = (now - start) / 1000; // seconds\n      const { w, h } = sizeRef.current;\n      const svg = svgRef.current;\n      if (svg && w > 0 && h > 0) {\n        // Query all glyph groups and position them\n        const groups = svg.querySelectorAll<SVGGElement>(\n          '[data-glyph=\"group\"]',\n        );\n        groups.forEach((group) => {\n          const idx = Number(group.getAttribute(\"data-idx\") || \"0\");\n          const g = glyphs[idx];\n          if (!g) return;\n\n          // speed: higher means slower here\n          const omega = (1 / Math.max(speed, 1)) * 5; // angular velocity scalar\n          const phase = t * omega + g.begin;\n          const dx = Math.cos(phase + g.angle) * g.amplitude;\n          const dy = Math.sin(phase + g.angle * 0.75) * g.amplitude * 0.6;\n\n          // Base position in pixels\n          const basePx = g.baseX * w;\n          const basePy = g.baseY * h;\n\n          const x = basePx + dx;\n          const y = basePy + dy;\n\n          group.style.transform = `translate(${x}px, ${y}px) rotate(${g.rotationDeg}deg)`;\n\n          const path = group.querySelector<SVGPathElement>(\n            '[data-glyph=\"path\"]',\n          );\n          if (path) {\n            const s = g.scale;\n            path.style.transform = `translate(-${s * (37 / 2)}px, -${s * (45 / 2)}px) scale(${s})`;\n          }\n        });\n      }\n      raf = requestAnimationFrame(step);\n    };\n\n    raf = requestAnimationFrame(step);\n    return () => cancelAnimationFrame(raf);\n  }, [glyphs, speed]);\n\n  return (\n    <div\n      ref={containerRef}\n      className={`overflow-hidden relative ${className || \"\"}`}\n    >\n      <svg\n        ref={svgRef}\n        width=\"100%\"\n        height=\"100%\"\n        version=\"1.1\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        className={`absolute bg-transparent ${svgClass || \"\"}`}\n      >\n        {glyphs.map((g, idx) => {\n          const stroke = getStrokeColor(g.variant, grayscale);\n          const fill = filled ? getFillColor(g.variant, grayscale) : \"none\";\n          return (\n            <g\n              key={g.id}\n              data-glyph=\"group\"\n              data-idx={idx}\n              data-variant={g.variant}\n              style={{\n                willChange: \"transform\",\n                transform: `translate(0px, 0px) rotate(${g.rotationDeg}deg)`,\n              }}\n            >\n              <path\n                data-glyph=\"path\"\n                d=\"M0.55,10.626L18.002,0.55L35.456,10.627L35.472,30.771L24.893,36.879L29.541,39.562C29.543,39.564 29.546,39.565 29.548,39.567L30.716,40.241L23.83,44.202L14.575,38.873L0.55,30.778L0.55,10.626Z\"\n                fill={fill}\n                fillOpacity={filled ? 0.5 : 0}\n                stroke={stroke}\n                strokeWidth={1}\n                style={{\n                  willChange: \"transform\",\n                  pointerEvents: \"visibleFill\",\n                }}\n              />\n            </g>\n          );\n        })}\n      </svg>\n\n      {bottomLeft ? (\n        <div className=\"absolute z-10 bottom-4 left-6 flex flex-row items-center gap-1 drop-shadow-md\">\n          {bottomLeft}\n        </div>\n      ) : null}\n    </div>\n  );\n}\n"],"names":["FULL_BLEED_STYLE","HeroHeader","title","description","HeadingTag","actions","icon","img","imgAlt","imgClassName","imgObjectPosition","fullBleed","fullBleedClassName","heroBody","jsxs","jsx","clsx","label","href","variant","indicatorText","ariaLabel","target","rel","index","CallToActionButton"],"mappings":"sKA4CA,MAAMA,EAAwC,CAC5C,MAAO,QACP,SAAU,WACV,KAAM,MACN,MAAO,MACP,WAAY,QACZ,YAAa,OACf,EAWA,SAAwBC,EAAW,CACjC,MAAAC,EACA,YAAAC,EACA,WAAYC,EAAa,KACzB,QAAAC,EACA,KAAAC,EACA,IAAAC,EACA,OAAAC,EACA,aAAAC,EACA,kBAAAC,EACA,UAAAC,EAAY,GACZ,mBAAAC,EAAqB,+CACvB,EAAoB,CAClB,MAAMC,EACJC,EAAAA,KAAC,MAAA,CAAI,UAAU,iMACZ,SAAA,CAAAP,EACCQ,EAAAA,IAAC,MAAA,CAAI,UAAU,6DACb,SAAAA,EAAAA,IAAC,MAAA,CACC,IAAKR,EACL,IAAKC,GAAU,GACf,UAAWQ,EACT,2CACAP,CAAA,EAEF,MACEC,EACI,CAAE,eAAgBA,GAClB,MAAA,CAAA,EAGV,EACE,KACJI,EAAAA,KAAC,MAAA,CAAI,UAAU,mGACZ,SAAA,CAAAR,EACCS,EAAAA,IAAC,MAAA,CAAI,UAAU,0CAA2C,WAAK,EAC7D,KACHb,EACCa,EAAAA,IAACX,EAAA,CAAW,UAAU,yEACnB,WACH,EACE,KAEHD,EACCY,EAAAA,IAAC,IAAA,CAAE,UAAU,0IACV,WACH,EACE,KAEHV,GAAWA,EAAQ,OAAS,QAC1B,MAAA,CAAI,UAAU,sCACZ,SAAAA,EAAQ,IACP,CACE,CACE,MAAAY,EACA,KAAAC,EACA,QAAAC,EAAU,UACV,cAAAC,EACA,UAAAC,EACA,OAAAC,EACA,IAAAC,CAAA,EAEFC,IAEAT,EAAAA,IAACU,EAAA,CAEC,KAAAP,EACA,KAAK,QACL,QAAAC,EACA,cACE,OAAOC,GAAkB,SACrBA,EAAc,WACdA,EAEN,UAAAC,EACA,OAAAC,EACA,IAAAC,EAEC,SAAAN,CAAA,EAbI,GAAGC,CAAI,IAAIM,CAAK,EAAA,CAcvB,EAGN,EACE,IAAA,EACN,QAEC,QAAA,CACE,SAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAA,CA0DH,CAAA,EACF,EAGF,OAAIb,EAEAI,EAAAA,IAAC,MAAA,CACC,UAAWC,EACT,oDACAJ,CAAA,EAEF,MAAOZ,EAEN,SAAAa,CAAA,CAAA,EAKAA,CACT"}