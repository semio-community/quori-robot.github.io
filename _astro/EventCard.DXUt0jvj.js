import{j as m}from"./jsx-runtime.D_zvdyIk.js";import{r as y,R as g}from"./index.CC6F48bw.js";import{I as N,r as E}from"./images.CjpKPGZ8.js";import{s as h}from"./site.config.CPly3Mom.js";import{m as D}from"./clsx.D-yZXX6k.js";import{a as R}from"./Calendar.D7ektZzO.js";const w=y.forwardRef((t,e)=>g.createElement(D,{ref:e,...t},g.createElement("path",{opacity:"0.5",d:"M4 10.1433C4 5.64588 7.58172 2 12 2C16.4183 2 20 5.64588 20 10.1433C20 14.6055 17.4467 19.8124 13.4629 21.6744C12.5343 22.1085 11.4657 22.1085 10.5371 21.6744C6.55332 19.8124 4 14.6055 4 10.1433Z",stroke:"currentColor",strokeWidth:"1.5"}),g.createElement("circle",{cx:"12",cy:"10",r:"3",stroke:"currentColor",strokeWidth:"1.5"})));w.displayName="MapPoint";function A(){const t=h.date?.locale;return Array.isArray(t)?t[0]??"en-US":t}const T=A(),L={year:"numeric",month:"short",day:"numeric",...h.date?.options},S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],M=/[\u202F\u00A0\u2009]/g,P=/\s*–\s*/g;function k(t){return{locale:T,options:{...L,...t}}}function C(t,e,n){return Number.isNaN(e)||e<0||e>11?t:(n?.toLowerCase()??"").startsWith("en")?S[e]??t:t}function c(t){return t.replace(M," ").replace(P," – ")}function p(t,e,n){const o=new Intl.DateTimeFormat(e,n);if(typeof o.formatToParts=="function"){const i=o.formatToParts(t).map(r=>r.type==="month"?{...r,value:C(r.value,t.getMonth(),e)}:r);return c(i.map(r=>r.value).join(""))}return c(o.format(t))}function F(t,e,n,o){const i=new Intl.DateTimeFormat(n,o);if(typeof i.formatRangeToParts=="function"){const u=i.formatRangeToParts(t,e).map(s=>{if(s.type==="month"){const f=s.source==="endRange"?e:(s.source==="startRange",t);return{...s,value:C(s.value,f.getMonth(),n)}}return s});return c(u.map(s=>s.value).join(""))}if(typeof i.formatRange=="function")return c(i.formatRange(t,e));const r=p(t,n,o),a=p(e,n,o);return r===a?r:`${r} – ${a}`}function l(t){if(t instanceof Date)return new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());if(t==null)return new Date(NaN);if(typeof t=="number")return new Date(t);const e=String(t),n=e.match(/^(\d{4})-(\d{2})-(\d{2})/);if(n){const[,o,i,r]=n;return new Date(Number(o),Number(i)-1,Number(r))}return new Date(e)}function b(t,e,n){const{locale:o,options:i}=k(n);return!e||t.getTime()===e.getTime()?p(t,o,i):F(t,e,o,i)}function d(t){if(t){if(t.city&&t.country)return`${t.city}, ${t.country}`;if(t.country)return t.country;if(t.online)return"Online"}}const W=({eventId:t,data:e})=>{const n=new Date,o=l(e.startDate),i=e.endDate?l(e.endDate):o;let r="upcoming";n>=o&&n<=i?r="happening now":n>i&&(r="past");const a=`${e.type.charAt(0).toUpperCase()+e.type.slice(1)}`,u=d(e.location),s=b(o,i),f=y.useMemo(()=>r==="past"&&e.featured?"previously-featured":e.featured?"featured":"not-featured",[r,e.featured]);return m.jsx(N,{title:e.displayName||e.name||t,listItems:[{text:s,icon:m.jsx(R,{className:"text-accent-two mt-0.5 w-4 h-4 shrink-0"})},{text:u??"Unknown Location",icon:m.jsx(w,{className:"text-accent-two mt-0.5 w-4 h-4 shrink-0"})}],href:`/events/${t}`,type:"events",image:e.images?.hero,imageAlt:e.name,logo:E(e.images),status:r,category:a,featuredState:f,links:{website:e.links?.website,registration:e.links?.registration}})};export{W as E};
//# sourceMappingURL=EventCard.DXUt0jvj.js.map
